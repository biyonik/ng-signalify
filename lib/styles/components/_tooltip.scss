// ==========================================================================
// Tooltip Component
// ==========================================================================

@use '../abstract/mixins' as *;

.sig-tooltip {
  position: relative;
  display: inline-block;

  &__trigger {
    display: inline-block;
  }

  &__content {
    position: absolute;
    z-index: var(--sig-z-tooltip);
    max-width: 280px;
    padding: var(--sig-spacing-2) var(--sig-spacing-3);
    font-size: var(--sig-font-size-sm);
    line-height: var(--sig-line-height-normal);
    color: white;
    background: var(--sig-gray-900);
    border-radius: var(--sig-radius-md);
    box-shadow: var(--sig-shadow-md);
    pointer-events: none;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--sig-transition-fast),
    visibility var(--sig-transition-fast),
    transform var(--sig-transition-fast);

    &--visible {
      opacity: 1;
      visibility: visible;
    }
  }

  // Arrow
  &__arrow {
    position: absolute;
    width: 8px;
    height: 8px;
    background: inherit;
    transform: rotate(45deg);
  }

  // Positions
  &--top {
    .sig-tooltip__content {
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(-8px);
    }

    .sig-tooltip__arrow {
      bottom: -4px;
      left: 50%;
      margin-left: -4px;
    }

    .sig-tooltip__content--visible {
      transform: translateX(-50%) translateY(-4px);
    }
  }

  &--bottom {
    .sig-tooltip__content {
      top: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(8px);
    }

    .sig-tooltip__arrow {
      top: -4px;
      left: 50%;
      margin-left: -4px;
    }

    .sig-tooltip__content--visible {
      transform: translateX(-50%) translateY(4px);
    }
  }

  &--left {
    .sig-tooltip__content {
      right: 100%;
      top: 50%;
      transform: translateY(-50%) translateX(-8px);
    }

    .sig-tooltip__arrow {
      right: -4px;
      top: 50%;
      margin-top: -4px;
    }

    .sig-tooltip__content--visible {
      transform: translateY(-50%) translateX(-4px);
    }
  }

  &--right {
    .sig-tooltip__content {
      left: 100%;
      top: 50%;
      transform: translateY(-50%) translateX(8px);
    }

    .sig-tooltip__arrow {
      left: -4px;
      top: 50%;
      margin-top: -4px;
    }

    .sig-tooltip__content--visible {
      transform: translateY(-50%) translateX(4px);
    }
  }

  // Light variant
  &--light {
    .sig-tooltip__content {
      color: var(--sig-text-primary);
      background: var(--sig-surface);
      border: 1px solid var(--sig-border-color);
    }

    .sig-tooltip__arrow {
      border-right: 1px solid var(--sig-border-color);
      border-bottom: 1px solid var(--sig-border-color);
    }
  }

  // Color variants
  &--primary {
    .sig-tooltip__content {
      background: var(--sig-primary);
    }
  }

  &--success {
    .sig-tooltip__content {
      background: var(--sig-success);
    }
  }

  &--warning {
    .sig-tooltip__content {
      color: var(--sig-gray-900);
      background: var(--sig-warning);
    }
  }

  &--error {
    .sig-tooltip__content {
      background: var(--sig-error);
    }
  }

  // Interactive tooltip
  &--interactive {
    .sig-tooltip__content {
      pointer-events: auto;
    }
  }

  // No arrow
  &--no-arrow {
    .sig-tooltip__arrow {
      display: none;
    }
  }
}

// Dark Mode
[data-theme="dark"] {
  .sig-tooltip {
    &--light {
      .sig-tooltip__content {
        background: var(--sig-gray-800);
      }
    }
  }
}
